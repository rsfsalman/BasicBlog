<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
     <title>Create Blog Post</title>
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/styles.css') }}">
    </head>
    <body>
        <div class="post-container">
            <h1>Editing {{post.title}} Blog Post</h1>
            <form method="POST">
                <div class="form-group">
                    <label for="title">Title</label>
                    <input type="text" id="title" name="title" required value="{{ post.title }}">
                </div>
                <div class="form-group">
                    <label for="author">Author</label>
                    <input type="text" id="author" name="author" required value="{{ post.author }}">
                </div>
                <div class="form-group">
                    <label for="content">Content</label>
                    <textarea id="content" name="content" rows="6" required>{{ post.content }}</textarea>
                </div>
                <div class="form-group buttons">
                    <button type="submit">Update</button>
                    <button type="button" id="cancel-button">Cancel</button>
                </div>
            </form>
        </div>


        <script>
            document.addEventListener("DOMContentLoaded", function() {
                document.getElementById("title").focus();
                var originalValues = {
                    author: "{{ post['author'] }}",
                    content: "{{ post['content'] }}",
                    title: "{{ post['title'] }}"
                };

            // Add event listener to the cancel button
            document.getElementById("cancel-button").addEventListener("click", function() {
                var content = document.getElementById("content").value;
                var author = document.getElementById("author").value;
                var title = document.getElementById("title").value;

                if (content !== originalValues.content ||
                    author !== originalValues.author ||
                    title !== originalValues.title) {
                        var confirmCancel = confirm("Are you sure you want to cancel? Your content will be lost.");
                        if (confirmCancel) {
                            // Redirect to home page
                            window.location.href = "/";
                        }
                } else {
                    // Redirect to home page
                    window.location.href = "/";
                }
            });


            });
        </script>
    </body>

</html>